!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Schema=void 0;var n=function(){function t(){this.__rules__=[],this.__parent__=null,this.__value__=void 0,this.__hooks__={passed:{},failed:{}}}return t.prototype.__setParent__=function(t){this.__parent__=t},t.prototype.__getParent__=function(){return this.__parent__},t.prototype.effect=function(t,e,r){return this.__hooks__[t][e]=r,this},t.prototype.validate=function(t){},t}();e.Schema=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Reference=void 0;var n=function(t,e){if(void 0===e&&(e=0),e<0||e%1!=0)throw new TypeError("ancestor 必须为正整数");this.key=t,this.ancestor=e};e.Reference=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rule=void 0;var n=r(1),i=function(t,e,r){this.call=t,this.name=e,this.ref=r,this.hasRef=r instanceof n.Reference};e.Rule=i},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,u=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=u.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.isObj=e.isArr=e.isRegExp=e.isStr=e.isNum=e.typeAssert=e.omit=e.deepCompare=void 0;var u=r(1),o=r(0),_=Array.isArray;e.isArr=_;var s=function(t){return!(_(t)||"object"!=typeof t||null===t||t instanceof o.Schema||t instanceof u.Reference)};e.isObj=s;e.isNum=function(t){return"number"==typeof t};e.isStr=function(t){return"string"==typeof t};e.isRegExp=function(t){return t instanceof RegExp},e.deepCompare=function t(e,r){if(_(e)){if(_(r)){if((l=e.length)===(c=r.length)){for(var n=0;n<l;n++)if(!t(e[n],r[n]))return!1;return!0}return!1}return!1}if(s(e)){if(s(r)){var u=Object.keys(e),o=Object.keys(r),a=new Set(i(u,o)),l=u.length,c=o.length,f=a.size;if(l===c&&l===f){for(n=0;n<l;n++){var p=u[n];if(!t(e[p],r[p]))return!1}return!0}return!1}return!1}return isNaN(e)?isNaN(r):e===r},e.omit=function(t,e){return Object.keys(t).reduce((function(r,n){var i;return Object.assign(r,e.includes(n)?{}:((i={})[n]=t[n],i))}),{})},e.typeAssert=function(t,e,r){if(!(r(t)||t instanceof u.Reference))throw new TypeError(e)}},function(t,e,r){"use strict";var n=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};Object.defineProperty(e,"__esModule",{value:!0}),e.MSG_REF_ONCE=e.MSG_OBJ_ONLY=e.MSG_PARAM_NOT_OBJ=e.MSG_NOT_NAVY_OBJ=e.MSG_NOT_NAVY_ARR=e.MSG_NOT_NAVY=e.MSG_PARAM_NOT_ARR=e.MSG_REF_NOT_DATE=e.MSG_PARAM_NOT_DATE=e.MSG_REF_NOT_STR=e.MSG_PARAM_NOT_STR=e.MSG_REF_NOT_REGEXP=e.MSG_PARAM_NOT_REGEXP=e.MSG_REF_NOT_NUM=e.MSG_PARAM_NOT_NUM=void 0;var i=function(t){return"参数值必须为 "+t[0]+" 类型或者 Navy.ref"},u=function(t){return"Navy.ref 的值必须为 "+t[0]},o=i(y||(y=n(["Number"],["Number"])));e.MSG_PARAM_NOT_NUM=o;var _=u(v||(v=n(["Number"],["Number"])));e.MSG_REF_NOT_NUM=_;var s=i(N||(N=n(["Regexp"],["Regexp"])));e.MSG_PARAM_NOT_REGEXP=s;var a=u(S||(S=n(["Regexp"],["Regexp"])));e.MSG_REF_NOT_REGEXP=a;var l=i(O||(O=n(["String"],["String"])));e.MSG_PARAM_NOT_STR=l;var c=u(m||(m=n(["String"],["String"])));e.MSG_REF_NOT_STR=c;var f=i(A||(A=n(["Number、ISOString、Date"],["Number、ISOString、Date"])));e.MSG_PARAM_NOT_DATE=f;var p=u(R||(R=n(["Number、ISOString、Date"],["Number、ISOString、Date"])));e.MSG_REF_NOT_DATE=p;e.MSG_PARAM_NOT_ARR="参数值必须为 Array 类型";e.MSG_NOT_NAVY="参数值必须为一个 Navy instance";e.MSG_NOT_NAVY_ARR="参数值必须为一个包含 Navy instance 的 Array";e.MSG_NOT_NAVY_OBJ="参数值必须为一个类型为 { [key: string]: Navy instance } 的 Object";var h=i(d||(d=n(["Object"],["Object"])));e.MSG_PARAM_NOT_OBJ=h;e.MSG_OBJ_ONLY="你只能在 Navy.object 中使用 Navy.ref";var y,v,N,S,O,m,A,R,d;e.MSG_REF_ONCE="Navy.ref 的值不能为另一个 Navy.ref"},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaAny=void 0;var u=r(0),o=r(2),_=r(3);function s(t,e){return null==e}function a(t,e){return!s(0,e)}function l(t,e){return!0===new Boolean(e).valueOf()}function c(t,e){return!1===new Boolean(e).valueOf()}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.required=function(){return this.__rules__.push(new o.Rule(a,"required",null)),this},e.prototype.empty=function(){return this.__rules__.push(new o.Rule(s,"empty",null)),this},e.prototype.equal=function(t){return this.__rules__.push(new o.Rule(_.deepCompare,"equal",t)),this},e.prototype.truthy=function(){return this.__rules__.push(new o.Rule(l,"truthy",null)),this},e.prototype.falsy=function(){return this.__rules__.push(new o.Rule(c,"falsy",null)),this},e}(u.Schema);e.SchemaAny=f},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Navy=void 0;var i=r(1),u=r(0),o=r(5),_=r(7),s=r(8),a=r(9),l=r(10),c=r(11),f=r(3),p=r(4),h=function(t,e,r,n){var i=this.__hooks__[t][e];i&&i(r,n)};function y(t,e){for(var r=t.ref,n=r.key.split("."),u=r.ancestor,o=this.__getParent__();u&&o.__getParent__();)o=o.__getParent__(),u--;for(var _=o.__value__[n[0]],s=1,a=n.length;s<a;s++){if(!f.isObj(_))return!1;_=_[n[s]]}if(_ instanceof i.Reference)throw new TypeError(p.MSG_REF_ONCE);return t.call(_,e)?(h.call(this,"passed",t.name,_,e),!0):(h.call(this,"failed",t.name,_,e),!1)}u.Schema.prototype.validate=function(t){var e,r;this.__value__=t;try{for(var i=n(this.__rules__),u=i.next();!u.done;u=i.next()){var o=u.value;if(o.hasRef){var _=this.__getParent__();if(_ instanceof l.SchemaArr){for(;!(_ instanceof c.SchemaObj)&&null!==_;)_=_.__getParent__();this.__setParent__(_)}if(!(_ instanceof c.SchemaObj))throw new TypeError(p.MSG_OBJ_ONLY);if(_.__getParent__()instanceof l.SchemaArr){for(_=_.__getParent__();!(_ instanceof c.SchemaObj)&&null!==_;)_=_.__getParent__();this.__setParent__(_)}if(!y.apply(this,[o,t]))return!1}else{if(!o.call(o.ref,t))return h.call(this,"failed",o.name,o.ref,t),!1;h.call(this,"passed",o.name,o.ref,t)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return!0};var v={any:function(){return new o.SchemaAny},number:function(){return new _.SchemaNum},string:function(){return new s.SchemaStr},date:function(){return new a.SchemaDate},array:function(){return new l.SchemaArr},object:function(){return new c.SchemaObj},ref:function(t,e){return new i.Reference(t,e)}};e.Navy=v},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaNum=void 0;var u=r(0),o=r(2),_=r(3),s=r(4);function a(t,e){return _.isNum(e)}function l(t,e){return _.typeAssert(t,s.MSG_REF_NOT_NUM,_.isNum),_.isNum(e)&&e>t}function c(t,e){return _.typeAssert(t,s.MSG_REF_NOT_NUM,_.isNum),_.isNum(e)&&e<t}function f(t,e){return _.typeAssert(t,s.MSG_REF_NOT_NUM,_.isNum),_.isNum(e)&&e<=t}function p(t,e){return _.typeAssert(t,s.MSG_REF_NOT_NUM,_.isNum),_.isNum(e)&&e>=t}function h(t,e){return _.typeAssert(t,s.MSG_REF_NOT_NUM,_.isNum),_.isNum(e)&&t===e}function y(t,e){return _.isNum(e)&&e%1==0}function v(t,e){return _.typeAssert(t,s.MSG_REF_NOT_NUM,_.isNum),_.isNum(e)&&e/t%1==0}function N(t,e){return _.typeAssert(t,s.MSG_REF_NOT_NUM,_.isNum),_.isNum(e)&&t/e%1==0}function S(t,e){return _.isNum(e)&&e>0}function O(t,e){return _.isNum(e)&&e<0}var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.required=function(){return this.__rules__.push(new o.Rule(a,"required",null)),this},e.prototype.greater=function(t){return _.typeAssert(t,s.MSG_PARAM_NOT_NUM,_.isNum),this.__rules__.push(new o.Rule(l,"greater",t)),this},e.prototype.less=function(t){return _.typeAssert(t,s.MSG_PARAM_NOT_NUM,_.isNum),this.__rules__.push(new o.Rule(c,"less",t)),this},e.prototype.max=function(t){return _.typeAssert(t,s.MSG_PARAM_NOT_NUM,_.isNum),this.__rules__.push(new o.Rule(f,"max",t)),this},e.prototype.min=function(t){return _.typeAssert(t,s.MSG_PARAM_NOT_NUM,_.isNum),this.__rules__.push(new o.Rule(p,"min",t)),this},e.prototype.equal=function(t){return _.typeAssert(t,s.MSG_PARAM_NOT_NUM,_.isNum),this.__rules__.push(new o.Rule(h,"equal",t)),this},e.prototype.int=function(){return this.__rules__.push(new o.Rule(y,"int",null)),this},e.prototype.multiple=function(t){return _.typeAssert(t,s.MSG_PARAM_NOT_NUM,_.isNum),this.__rules__.push(new o.Rule(v,"multiple",t)),this},e.prototype.divisor=function(t){return _.typeAssert(t,s.MSG_PARAM_NOT_NUM,_.isNum),this.__rules__.push(new o.Rule(N,"divisor",t)),this},e.prototype.positive=function(){return this.__rules__.push(new o.Rule(S,"positive",null)),this},e.prototype.negative=function(){return this.__rules__.push(new o.Rule(O,"negative",null)),this},e}(u.Schema);e.SchemaNum=m},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,u=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=u.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaStr=void 0;var _=r(0),s=r(2),a=r(3),l=r(4);function c(t,e){return a.isStr(e)}function f(t,e){return a.typeAssert(t,l.MSG_REF_NOT_REGEXP,a.isRegExp),a.isStr(e)&&t.test(e)}function p(t,e){return a.typeAssert(t,l.MSG_REF_NOT_STR,a.isStr),a.isStr(e)&&e.includes(t)}function h(t,e){return a.typeAssert(t,l.MSG_REF_NOT_STR,a.isStr),a.isStr(e)&&e===t}function y(t,e){return a.typeAssert(t,l.MSG_REF_NOT_NUM,a.isNum),a.isStr(e)&&e.length<=t}function v(t,e){return a.typeAssert(t,l.MSG_REF_NOT_NUM,a.isNum),a.isStr(e)&&e.length>=t}function N(t,e){return a.typeAssert(t,l.MSG_REF_NOT_NUM,a.isNum),a.isStr(e)&&e.length===t}function S(t,e){return a.isStr(e)&&/^\d+$/.test(e)}function O(t,e){return a.isStr(e)&&/^[a-zA-Z]+$/.test(e)}function m(t,e){return a.isStr(e)&&/^[a-zA-Z\d]+$/.test(e)&&/\d/.test(e)&&/[a-zA-Z]/.test(e)}function A(t,e){return a.isStr(e)&&/^(https?:\/\/)?(\w+\.)?\w+\.[a-z]{2,}(\/.*)?$/i.test(e)}function R(t,e){return a.isStr(e)&&/^([a-z0-9_\-.\u4e00-\u9fa5]+)@([a-z0-9_\-.]+)\.([a-z]{2,8})$/i.test(e)}function d(t,e){return a.isStr(e)&&/^(\+86)?(13[0-9]|14(5|7|9)|15([0-3]|[5-9])|166|17([1-3]|[5-8])|18[0-9]|19(1|[8-9]))\d{8}$/.test(e)}function M(t,e){return a.isStr(e)&&/^[1-9]\d{16}(\d|x)$/i.test(e)&&function(t){var e=t.split("").map((function(t){var e=parseInt(t);return isNaN(e)?10:e})).reverse(),r=o(new Array(18).keys()).map((function(t){return Math.pow(2,t)%11}));return e.map((function(t,e){return t*r[e]})).reduce((function(t,e){return t+e}))%11==1}(e)}var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.required=function(){return this.__rules__.push(new s.Rule(c,"required",null)),this},e.prototype.regexp=function(t){return a.typeAssert(t,l.MSG_PARAM_NOT_REGEXP,a.isRegExp),this.__rules__.push(new s.Rule(f,"regexp",t)),this},e.prototype.includes=function(t){return a.typeAssert(t,l.MSG_PARAM_NOT_STR,a.isStr),this.__rules__.push(new s.Rule(p,"includes",t)),this},e.prototype.equal=function(t){return a.typeAssert(t,l.MSG_PARAM_NOT_STR,a.isStr),this.__rules__.push(new s.Rule(h,"equal",t)),this},e.prototype.max=function(t){return a.typeAssert(t,l.MSG_PARAM_NOT_NUM,a.isNum),this.__rules__.push(new s.Rule(y,"max",t)),this},e.prototype.min=function(t){return a.typeAssert(t,l.MSG_PARAM_NOT_NUM,a.isNum),this.__rules__.push(new s.Rule(v,"min",t)),this},e.prototype.length=function(t){return a.typeAssert(t,l.MSG_PARAM_NOT_NUM,a.isNum),this.__rules__.push(new s.Rule(N,"length",t)),this},e.prototype.number=function(){return this.__rules__.push(new s.Rule(S,"number",null)),this},e.prototype.alphabet=function(){return this.__rules__.push(new s.Rule(O,"alphabet",null)),this},e.prototype.alphanum=function(){return this.__rules__.push(new s.Rule(m,"alphanum",null)),this},e.prototype.URL=function(){return this.__rules__.push(new s.Rule(A,"URL",null)),this},e.prototype.mail=function(){return this.__rules__.push(new s.Rule(R,"mail",null)),this},e.prototype.phone=function(){return this.__rules__.push(new s.Rule(d,"phone",null)),this},e.prototype.IDCard=function(){return this.__rules__.push(new s.Rule(M,"IDCard",null)),this},e}(_.Schema);e.SchemaStr=w},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaDate=void 0;var u=r(0),o=r(2),_=r(1),s=r(4),a=function(t,e){if(!(l(null,t)||t instanceof _.Reference))throw new TypeError(e)};function l(t,e){var r=typeof e;return("string"===r||"number"===r||e instanceof Date)&&!isNaN(new Date(e).getTime())}function c(t,e){a(t,s.MSG_REF_NOT_DATE);var r=new Date(t).getTime(),n=new Date(e).getTime();return l(0,e)&&n>r}function f(t,e){a(t,s.MSG_REF_NOT_DATE);var r=new Date(t).getTime(),n=new Date(e).getTime();return l(0,e)&&n<r}function p(t,e){a(t,s.MSG_REF_NOT_DATE);var r=new Date(t).getTime(),n=new Date(e).getTime();return l(0,e)&&n===r}function h(t,e){a(t,s.MSG_REF_NOT_DATE);var r=new Date(t).getTime(),n=new Date(e).getTime();return l(0,e)&&n<=r}function y(t,e){a(t,s.MSG_REF_NOT_DATE);var r=new Date(t).getTime(),n=new Date(e).getTime();return l(0,e)&&n>=r}var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.required=function(){return this.__rules__.push(new o.Rule(l,"required",null)),this},e.prototype.after=function(t){return a(t,s.MSG_PARAM_NOT_DATE),this.__rules__.push(new o.Rule(c,"after",t)),this},e.prototype.before=function(t){return a(t,s.MSG_PARAM_NOT_DATE),this.__rules__.push(new o.Rule(f,"before",t)),this},e.prototype.at=function(t){return a(t,s.MSG_PARAM_NOT_DATE),this.__rules__.push(new o.Rule(p,"at",t)),this},e.prototype.max=function(t){return a(t,s.MSG_PARAM_NOT_DATE),this.__rules__.push(new o.Rule(h,"max",t)),this},e.prototype.min=function(t){return a(t,s.MSG_PARAM_NOT_DATE),this.__rules__.push(new o.Rule(y,"min",t)),this},e}(u.Schema);e.SchemaDate=v},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,u=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=u.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o};Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaArr=void 0;var _=r(0),s=r(5),a=r(2),l=r(1),c=r(3),f=r(4);function p(t,e){return c.isArr(e)}function h(t,e){return c.typeAssert(t,f.MSG_REF_NOT_NUM,c.isNum),c.isArr(e)&&e.length<=t}function y(t,e){return c.typeAssert(t,f.MSG_REF_NOT_NUM,c.isNum),c.isArr(e)&&e.length>=t}function v(t,e){return c.typeAssert(t,f.MSG_REF_NOT_NUM,c.isNum),c.isArr(e)&&e.length===t}function N(t,e){var r,n,i,o;if(!c.isArr(e)||0===e.length)return!1;try{for(var _=u(e),s=_.next();!s.done;s=_.next()){var a=s.value,l=!1;try{for(var f=(i=void 0,u(t)),p=f.next();!p.done;p=f.next()){if(p.value.validate(a)){l=!0;break}}}catch(t){i={error:t}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}if(!l)return!1}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=_.return)&&n.call(_)}finally{if(r)throw r.error}}return!0}function S(t,e){var r,n;if(!c.isArr(e)||0===e.length)return!1;try{for(var i=u(e),o=i.next();!o.done;o=i.next()){var _=o.value;if(!t.validate(_))return!1}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!0}var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.required=function(){return this.__rules__.push(new a.Rule(p,"required",null)),this},e.prototype.max=function(t){return c.typeAssert(t,f.MSG_PARAM_NOT_NUM,c.isNum),this.__rules__.push(new a.Rule(h,"max",t)),this},e.prototype.min=function(t){return c.typeAssert(t,f.MSG_PARAM_NOT_NUM,c.isNum),this.__rules__.push(new a.Rule(y,"min",t)),this},e.prototype.length=function(t){return c.typeAssert(t,f.MSG_PARAM_NOT_NUM,c.isNum),this.__rules__.push(new a.Rule(v,"length",t)),this},e.prototype.items=function(t){var e,r,n=[];if(!c.isArr(t))throw new TypeError(f.MSG_PARAM_NOT_ARR);if(0===t.length)throw new TypeError(f.MSG_NOT_NAVY_ARR);n=t.concat();try{for(var i=u(n.entries()),p=i.next();!p.done;p=i.next()){var h=o(p.value,2),y=h[0],v=h[1];if(v instanceof l.Reference){var S=(new s.SchemaAny).equal(v);S.__setParent__(this),n[y]=S}else{if(!(v instanceof _.Schema))throw new TypeError(f.MSG_NOT_NAVY_ARR);v.__setParent__(this)}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return this.__rules__.push(new a.Rule(N,"items",n)),this},e.prototype.only=function(t){var e=t;if(e instanceof l.Reference)e=(new s.SchemaAny).equal(t);else if(!(t instanceof _.Schema))throw new TypeError(f.MSG_NOT_NAVY);return e.__setParent__(this),this.__rules__.push(new a.Rule(S,"only",e)),this},e}(_.Schema);e.SchemaArr=O},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,u=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=u.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o},_=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaObj=void 0;var s=r(0),a=r(5),l=r(2),c=r(1),f=r(3),p=r(4);function h(t,e){return f.isObj(e)}function y(t){var e,r;if(!f.isObj(t))throw new TypeError(p.MSG_PARAM_NOT_OBJ);var n=Object.assign({},t);try{for(var i=u(Object.keys(n)),o=i.next();!o.done;o=i.next()){var _=o.value,l=n[_];if(f.isObj(l)){var h=(new S).keys(l);n[_]=h,h.__setParent__(this)}else if(l instanceof s.Schema)l.__setParent__(this);else{if(!(l instanceof c.Reference))throw new TypeError(p.MSG_NOT_NAVY_OBJ);h=(new a.SchemaAny).equal(l);n[_]=h,h.__setParent__(this)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}function v(t,e){var r,n;if(!f.isObj(e))return!1;var i=this.__keys__,o=this.__optional__,s=Object.keys(i),a=Object.keys(e),l=Object.keys(o),c=new Set(_(s,a,l)),p=l.length,h=s.length,y=c.size;if(y<h||y>h+p)return!1;try{for(var v=u(s),N=v.next();!N.done;N=v.next()){var S=N.value;if(!i[S].validate(e[S]))return!1}}catch(t){r={error:t}}finally{try{N&&!N.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}return!0}function N(t,e){var r,n;if(!f.isObj(e))return!1;var i=this.__optional__,o=Object.keys(i);try{for(var _=u(o),s=_.next();!s.done;s=_.next()){var a=s.value,l=e[a],c=i[a];if(void 0!==l&&!c.validate(l))return!1}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=_.return)&&n.call(_)}finally{if(r)throw r.error}}return!0}var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__optional__={},e.__keys__={},e.__hasOpational__=!1,e.__hasKeys__=!1,e}return i(e,t),e.prototype.required=function(){return this.__rules__.push(new l.Rule(h,"required",null)),this},e.prototype.keys=function(t){var e=y.call(this,t);return Object.assign(this.__keys__,e),this.__hasKeys__||(this.__rules__.push(new l.Rule(v.bind(this),"keys",null)),this.__hasKeys__=!0),this.__optional__=f.omit(this.__optional__,Object.keys(t)),this},e.prototype.optional=function(t){var e=y.call(this,t);return Object.assign(this.__optional__,e),this.__hasOpational__||(this.__rules__.push(new l.Rule(N.bind(this),"optional",null)),this.__hasOpational__=!0),this.__keys__=f.omit(this.__keys__,Object.keys(t)),this},e}(s.Schema);e.SchemaObj=S}])}));